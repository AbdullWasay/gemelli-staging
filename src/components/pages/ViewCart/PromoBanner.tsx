"use client"

import { useState, useEffect } from "react"

export default function PromoBanner() {
    const [timeLeft, setTimeLeft] = useState({
        hours: 0,
        minutes: 0,
        seconds: 20,
        centiseconds: 12,
    })

    useEffect(() => {
        const timer = setInterval(() => {
            setTimeLeft((prevTime) => {
                // Calculate new time
                let { hours, minutes, seconds, centiseconds } = prevTime

                if (centiseconds > 0) {
                    centiseconds -= 1
                } else {
                    centiseconds = 99
                    if (seconds > 0) {
                        seconds -= 1
                    } else {
                        seconds = 59
                        if (minutes > 0) {
                            minutes -= 1
                        } else {
                            minutes = 59
                            if (hours > 0) {
                                hours -= 1
                            } else {
                                // Timer complete, reset or handle completion
                                clearInterval(timer)
                                return prevTime
                            }
                        }
                    }
                }

                return { hours, minutes, seconds, centiseconds }
            })
        }, 10) // Update every 10ms for centiseconds

        return () => clearInterval(timer)
    }, [])

    // Format time with leading zeros
    const formatTime = (value: number) => value.toString().padStart(2, "0")

    return (
        <div className="w-full bg-[#FF647E]/10 text-[#DB2645] py-3 px-4 flex items-center justify-center rounded-lg gap-3 text-base font-medium font-poppins">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="27" viewBox="0 0 30 29" fill="none">
                <g clipPath="url(#clip0_15_5836)">
                    <path d="M1.90719 7.99561L1.39062 20.6367L6.85135 28.7034L20.6162 25.8844L26.7231 14.0873L10.0244 13.2932L1.90719 7.99561Z" fill="#DB2645" />
                    <path d="M6.85135 28.7034L10.0244 13.2932L1.90719 7.99561L1.39062 20.6367L6.85135 28.7034Z" fill="#FF647E" />
                    <path d="M4.42598 11.9336L3.18555 23.2883L4.92102 25.8519L7.28973 14.726L4.42598 11.9336Z" fill="#FFE66C" />
                    <path d="M20.1062 16.418L16.2977 26.769L12.2705 27.5937L15.2957 16.8626L20.1062 16.418Z" fill="#EDA524" />
                    <path d="M6.85101 28.9999C6.80252 28.9998 6.75477 28.988 6.71192 28.9652C6.66908 28.9425 6.63243 28.9097 6.60519 28.8696L1.14446 20.8028C1.10885 20.7504 1.09117 20.6878 1.09405 20.6244L1.61005 7.98619C1.61213 7.93375 1.62808 7.88281 1.65627 7.83855C1.68445 7.79428 1.72387 7.75828 1.77051 7.73422C1.81714 7.71016 1.86932 7.69888 1.92173 7.70156C1.97413 7.70423 2.0249 7.72075 2.06884 7.74943L10.1186 13.0028L26.737 13.793C26.7866 13.7954 26.8349 13.8103 26.8773 13.8362C26.9197 13.8621 26.9549 13.8982 26.9797 13.9413C27.0045 13.9844 27.0181 14.033 27.0192 14.0827C27.0204 14.1324 27.009 14.1816 26.9862 14.2257L20.8792 26.0206C20.8589 26.0599 20.83 26.0942 20.7948 26.121C20.7595 26.1477 20.7187 26.1663 20.6753 26.1752L6.91161 28.9936C6.89171 28.998 6.87138 29.0001 6.85101 28.9999ZM1.68935 20.5508L6.98411 28.3723L20.4153 25.6218L26.2465 14.3611L10.0099 13.5891C9.9571 13.5869 9.90596 13.5702 9.86202 13.5409L2.18212 8.52937L1.68935 20.5508Z" fill="#1E0707" />
                    <path d="M0.979492 8.5732L9.98648 17.3536L27.0472 15.7756L29.0211 11.3231L15.4767 4.20508H1.25193L0.979492 8.5732Z" fill="#FFE66C" />
                    <path d="M1.25193 4.20508L11.65 13.0886L29.0211 11.3231L27.0472 15.7756L9.98648 17.3536L0.979492 8.5732L1.25193 4.20508Z" fill="#EDA524" />
                    <path d="M8.02252 9.99047L14.9961 8.78572L13.9432 7.70502L4.50684 6.98682L8.02252 9.99047Z" fill="#DB2645" />
                    <path d="M14.9961 8.78545L18.2762 12.415L17.0295 16.7021L21.3818 16.2994L22.7026 11.9647L17.3048 8.5249L14.9961 8.78545Z" fill="#DB2645" />
                    <path d="M8.02256 9.99047L7.03248 14.4906L3.97559 11.5107L4.50688 6.98682L8.02256 9.99047Z" fill="#DB2645" />
                    <path d="M15.888 7.59281L12.3224 4.20514L8.14746 4.17285L13.9429 7.70496L15.888 7.59281Z" fill="#DB2645" />
                    <path d="M9.98655 17.6509C9.90909 17.6509 9.83469 17.6206 9.77925 17.5665L0.773391 8.78724C0.742179 8.75709 0.717944 8.72048 0.702386 8.67997C0.686828 8.63946 0.680325 8.59604 0.683332 8.55275L0.953508 4.18632C0.95815 4.11055 0.991706 4.03945 1.04725 3.9877C1.1028 3.93594 1.17609 3.90749 1.252 3.90822H15.4767C15.5249 3.9083 15.5723 3.91996 15.6149 3.9422L29.1605 11.0602C29.2271 11.0953 29.2779 11.1543 29.3026 11.2254C29.3274 11.2965 29.3241 11.3743 29.2936 11.4431L27.3197 15.8962C27.2983 15.9445 27.2643 15.9861 27.2214 16.0169C27.1785 16.0476 27.1282 16.0664 27.0756 16.0712L10.016 17.6492L9.98655 17.6509ZM1.28429 8.45533L10.0953 17.0454L26.8468 15.4963L28.6372 11.4561L15.4037 4.50181H1.53068L1.28429 8.45533Z" fill="#1E0707" />
                    <path d="M13.9446 7.70307C13.9446 7.70307 9.36629 2.52952 5.30856 1.96708C3.99223 1.78526 2.72971 2.08829 1.69715 3.21317C0.799396 4.19135 0.840177 4.9543 1.4519 5.55073L4.31565 8.41448L6.10152 7.15989C9.72199 7.73196 13.9446 7.70307 13.9446 7.70307Z" fill="#FF647E" />
                    <path d="M24.3927 1.33837C24.1812 1.11116 23.9442 0.909126 23.6864 0.736276C18.5542 -2.80603 15.8887 7.59262 15.8887 7.59262L17.3047 8.5255L27.3941 4.33409L24.3927 1.33837Z" fill="#FF647E" />
                    <path d="M4.31511 8.71305C4.2762 8.71311 4.23765 8.70549 4.20169 8.69062C4.16573 8.67574 4.13305 8.65392 4.10554 8.62639L1.24123 5.76208L1.23613 5.75641C0.758648 5.28799 0.363863 4.50012 1.1608 3.39846C1.20691 3.33462 1.2765 3.29171 1.35426 3.27918C1.43201 3.26664 1.51156 3.28551 1.57541 3.33163C1.63925 3.37774 1.68216 3.44734 1.69469 3.52509C1.70723 3.60284 1.68836 3.68239 1.64224 3.74624C1.17835 4.38741 1.18402 4.87905 1.65867 5.34124L1.66943 5.352L4.35136 8.02997L5.93277 6.91868C5.99587 6.87452 6.0736 6.85646 6.1497 6.86827C8.85543 7.29421 11.9344 7.38483 13.2689 7.40352C12.566 6.6604 11.1165 5.22626 9.44732 4.12686C9.41355 4.106 9.38432 4.07857 9.36134 4.04621C9.33836 4.01384 9.3221 3.9772 9.31354 3.93844C9.30497 3.89969 9.30426 3.8596 9.31146 3.82057C9.31865 3.78154 9.33361 3.74434 9.35543 3.71119C9.37726 3.67803 9.40551 3.64959 9.43852 3.62755C9.47153 3.60551 9.50862 3.59031 9.54761 3.58286C9.5866 3.57541 9.62668 3.57585 9.66549 3.58416C9.7043 3.59248 9.74106 3.60849 9.77357 3.63126C12.1916 5.22229 14.0919 7.41881 14.1717 7.5117C14.2085 7.55466 14.2323 7.60725 14.2402 7.66326C14.2482 7.71928 14.2399 7.7764 14.2165 7.82789C14.193 7.87937 14.1553 7.92308 14.1079 7.95387C14.0604 7.98465 14.0051 8.00123 13.9486 8.00165C13.9061 8.00165 9.75318 8.02204 6.17632 7.47319L4.48617 8.65924C4.43606 8.69439 4.37632 8.71318 4.31511 8.71305Z" fill="#1E0707" />
                    <path d="M14.9963 8.7853C14.9963 8.7853 8.96012 1.67067 4.74775 6.26592C0.535391 10.8612 14.9963 8.7853 14.9963 8.7853Z" fill="#DB2645" />
                    <path d="M17.306 8.8222C17.2478 8.82202 17.1909 8.8049 17.1423 8.77293L15.7263 7.84006C15.6746 7.80609 15.6349 7.7568 15.6126 7.6991C15.5904 7.64141 15.5867 7.5782 15.6022 7.51834C15.8553 6.59035 16.1707 5.68052 16.5464 4.79506C16.561 4.75826 16.5827 4.72474 16.6104 4.69647C16.6381 4.6682 16.6711 4.64575 16.7076 4.63045C16.7441 4.61514 16.7833 4.60728 16.8229 4.60734C16.8624 4.60739 16.9016 4.61536 16.938 4.63077C16.9745 4.64618 17.0075 4.66872 17.0351 4.69706C17.0627 4.72541 17.0843 4.75899 17.0988 4.79582C17.1132 4.83266 17.1201 4.87202 17.1191 4.91157C17.1182 4.95112 17.1093 4.99008 17.093 5.02615C16.7587 5.82038 16.4716 6.63364 16.2332 7.4617L17.3377 8.18953L26.8714 4.22978L24.1833 1.54842L24.1731 1.53709C23.9763 1.32722 23.7565 1.14026 23.5177 0.979744C23.4856 0.957615 23.4582 0.929382 23.437 0.896655C23.4159 0.863929 23.4013 0.82735 23.3943 0.789008C23.3872 0.750666 23.3878 0.711311 23.396 0.67319C23.4041 0.635069 23.4197 0.598929 23.4418 0.566834C23.464 0.534738 23.4922 0.507315 23.5249 0.486131C23.5577 0.464947 23.5942 0.450416 23.6326 0.443368C23.6709 0.43632 23.7103 0.436894 23.7484 0.445055C23.7865 0.453217 23.8227 0.468807 23.8548 0.490935C24.129 0.675811 24.3816 0.89109 24.6075 1.13267L27.6049 4.1233C27.6395 4.15777 27.665 4.20024 27.6793 4.24694C27.6935 4.29364 27.696 4.34313 27.6865 4.39103C27.6771 4.43892 27.6559 4.48375 27.625 4.52152C27.5941 4.55929 27.5543 4.58885 27.5092 4.60758L17.4198 8.79898C17.3838 8.81415 17.3451 8.82204 17.306 8.8222Z" fill="#1E0707" />
                    <path d="M22.7036 11.9647L18.2771 12.415L14.9971 8.78545L17.3057 8.5249L22.7036 11.9647Z" fill="#FF647E" />
                    <path d="M17.3057 8.52552C17.3057 8.52552 21.6058 0.245229 26.738 3.78753C31.8702 7.32984 17.3057 8.52552 17.3057 8.52552Z" fill="#DB2645" />
                    <path d="M17.3052 8.82238C17.2542 8.82231 17.2041 8.80911 17.1597 8.78406C17.1153 8.75901 17.0781 8.72295 17.0517 8.67936C17.0253 8.63576 17.0106 8.5861 17.0089 8.53516C17.0073 8.48422 17.0188 8.43372 17.0423 8.38851C17.1432 8.19367 19.5594 3.60804 23.0213 2.74711C24.3541 2.41576 25.6608 2.6831 26.9063 3.54008C27.8692 4.20277 28.2657 4.8683 28.0912 5.51797C27.8041 6.59414 25.9389 7.44375 22.3835 8.12344C19.8483 8.60771 17.3544 8.81558 17.3301 8.81785L17.3052 8.82238ZM24.1151 3.2042C23.795 3.20492 23.4762 3.24467 23.1658 3.32258C21.5068 3.73492 20.0788 5.15433 19.1732 6.27185C18.6871 6.87514 18.2435 7.51142 17.8455 8.17611C18.72 8.08719 20.4884 7.88498 22.2765 7.54287C23.7526 7.25967 27.2195 6.48426 27.5175 5.36787C27.6449 4.89209 27.0723 4.37836 26.5693 4.03172C25.7712 3.48117 24.9494 3.2042 24.1151 3.2042Z" fill="#1E0707" />
                    <path d="M8.73881 9.55081C5.88639 9.55081 4.27043 9.12487 3.81108 8.25771C3.49729 7.66241 3.73801 6.92495 4.52588 6.06571C5.54881 4.94989 6.76319 4.39878 8.13672 4.42314C9.64336 4.45202 11.2961 5.1657 13.0492 6.54376C13.8342 7.15878 14.5613 7.84434 15.2213 8.59189C15.2557 8.63233 15.2786 8.68124 15.2876 8.73353C15.2967 8.78582 15.2915 8.83958 15.2727 8.8892C15.2539 8.93882 15.2222 8.9825 15.1807 9.01568C15.1393 9.04887 15.0898 9.07034 15.0372 9.07786C15.0129 9.08126 12.5354 9.43357 9.95602 9.52589C9.52857 9.54213 9.12284 9.55043 8.73881 9.55081ZM8.04553 5.01956C6.88327 5.01956 5.84731 5.50667 4.96485 6.469C4.55194 6.92212 4.10787 7.54517 4.33727 7.983C4.87705 9.00253 8.42899 8.99064 9.93166 8.93683C11.751 8.87169 13.5198 8.67571 14.3921 8.56753C13.8561 8.00827 13.2819 7.48687 12.6736 7.00708C11.5408 6.11839 9.83368 5.05298 8.12483 5.02013L8.04553 5.01956Z" fill="#1E0707" />
                    <path d="M15.8888 7.59251L17.3048 8.52538L14.9956 8.78536L13.9443 7.70296C14.3142 7.43052 15.1893 7.24983 15.8888 7.59251Z" fill="#FF647E" />
                    <path d="M14.9969 9.08243C14.9572 9.08253 14.9179 9.07467 14.8814 9.05929C14.8448 9.04392 14.8116 9.02135 14.784 8.99293L13.7316 7.91223C13.7021 7.88187 13.6794 7.84556 13.665 7.80573C13.6507 7.7659 13.645 7.72346 13.6484 7.68126C13.6518 7.63906 13.6641 7.59807 13.6846 7.56103C13.7051 7.52399 13.7333 7.49175 13.7673 7.46647C14.2532 7.1068 15.2524 6.95104 16.0199 7.326C16.0311 7.33168 16.0421 7.33791 16.0527 7.34469L17.4687 8.27756C17.5196 8.31115 17.5589 8.3596 17.5813 8.41631C17.6037 8.47302 17.608 8.53525 17.5938 8.59454C17.5796 8.65382 17.5474 8.70728 17.5017 8.74766C17.456 8.78803 17.399 8.81335 17.3384 8.82018L15.0292 9.08073C15.0185 9.08184 15.0077 9.08241 14.9969 9.08243ZM14.4413 7.78989L15.1079 8.47467L16.4577 8.32231L15.7429 7.85162C15.3118 7.64658 14.7998 7.67604 14.4413 7.78989Z" fill="#1E0707" />
                    <path d="M17.0955 7.80123C17.0256 7.80102 16.957 7.78234 16.8967 7.74708C16.8363 7.71183 16.7864 7.66125 16.7519 7.60047C16.7174 7.5397 16.6996 7.47088 16.7002 7.401C16.7009 7.33112 16.72 7.26265 16.7556 7.20254C17.7485 5.54014 18.8162 4.25213 20.021 3.26488C20.1028 3.20637 20.2038 3.18115 20.3036 3.19434C20.4033 3.20754 20.4943 3.25815 20.5581 3.33593C20.6219 3.41371 20.6538 3.51285 20.6472 3.61324C20.6407 3.71363 20.5962 3.80778 20.5228 3.8766C19.39 4.80551 18.3801 6.02895 17.4353 7.60809C17.4002 7.6669 17.3504 7.7156 17.2909 7.74945C17.2313 7.7833 17.164 7.80114 17.0955 7.80123Z" fill="#DB2645" />
                    <path d="M5.38814 5.02629C5.30365 5.02639 5.22133 4.99949 5.1532 4.94952C5.08507 4.89954 5.03468 4.82911 5.00939 4.74849C4.9841 4.66788 4.98522 4.58128 5.0126 4.50135C5.03997 4.42141 5.09217 4.35231 5.16158 4.30413C6.24908 3.55647 7.25162 3.34124 8.73503 3.53835C8.78864 3.54268 8.8408 3.55788 8.88834 3.58301C8.93589 3.60814 8.97782 3.64268 9.0116 3.68453C9.04537 3.72637 9.07028 3.77466 9.08481 3.82644C9.09934 3.87821 9.10318 3.93241 9.0961 3.98572C9.08903 4.03903 9.07118 4.09034 9.04364 4.13654C9.01611 4.18273 8.97947 4.22284 8.93594 4.25443C8.89242 4.28601 8.84292 4.30842 8.79047 4.32027C8.73801 4.33213 8.68369 4.33319 8.63081 4.32338C7.33148 4.15346 6.54078 4.31659 5.61017 4.95663C5.54479 5.00154 5.46745 5.0258 5.38814 5.02629Z" fill="#DB2645" />
                    <path d="M11.9777 12.8244C11.8636 12.8242 11.7539 12.7803 11.6713 12.7015C11.5887 12.6228 11.5394 12.5153 11.5338 12.4013C11.5281 12.2874 11.5664 12.1755 11.6408 12.089C11.7152 12.0025 11.82 11.9478 11.9335 11.9363L16.752 11.4481C16.8102 11.4422 16.869 11.4478 16.925 11.4647C16.981 11.4815 17.0332 11.5092 17.0785 11.5462C17.1238 11.5832 17.1614 11.6288 17.1891 11.6803C17.2168 11.7318 17.234 11.7883 17.2399 11.8465C17.2458 11.9047 17.2402 11.9635 17.2233 12.0195C17.2065 12.0756 17.1788 12.1277 17.1418 12.173C17.1047 12.2183 17.0592 12.2559 17.0077 12.2836C16.9561 12.3113 16.8997 12.3286 16.8415 12.3345L12.023 12.8222C12.0077 12.8233 11.9925 12.8244 11.9777 12.8244Z" fill="#EDA524" />
                </g>
                <defs>
                    <clipPath id="clip0_15_5836">
                        <rect width="29" height="29" fill="white" transform="translate(0.5)" />
                    </clipPath>
                </defs>
            </svg>
            <span>YOU&apos;RE $15 AWAY FROM FREE SHIPPING OR AN EXTRA 10% OFF!</span>
            <span className="mx-2">-</span>
            <div className="font-mono">
                {formatTime(timeLeft.hours)}:{formatTime(timeLeft.minutes)}:{formatTime(timeLeft.seconds)}:
                {formatTime(timeLeft.centiseconds)}
            </div>
        </div>
    )
}
